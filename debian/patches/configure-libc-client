Dynamically link against libc-client.

Forwarded as #10813.

 -- Faidon Liambotis <paravoid@debian.org>

--- asterisk-1.4.11~dfsg.orig/configure
+++ asterisk-1.4.11~dfsg/configure
@@ -18435,7 +18435,7 @@ echo $ECHO_N "checking for UW IMAP Toolk
       imap_ldflags=`cat ${IMAP_TK_DIR}/c-client/LDFLAGS`
    fi
    CPPFLAGS="${CPPFLAGS} -I${IMAP_TK_DIR}/c-client"
-   LIBS="${LIBS} ${IMAP_TK_DIR}/c-client/c-client.a "`echo ${imap_ldflags}`
+   LIBS="${LIBS} -lc-client "`echo ${imap_ldflags}`
    cat >conftest.$ac_ext <<_ACEOF
 /* confdefs.h.  */
 _ACEOF
@@ -18627,7 +18627,7 @@ rm -f core conftest.err conftest.$ac_obj
    if test "${ac_cv_imap_tk}" = "yes"; then
       { echo "$as_me:$LINENO: result: yes" >&5
 echo "${ECHO_T}yes" >&6; }
-      IMAP_TK_LIB="${IMAP_TK_DIR}/c-client/c-client.a "`echo ${imap_ldflags}`
+      IMAP_TK_LIB="-lc-client "`echo ${imap_ldflags}`
       IMAP_TK_INCLUDE="-I${IMAP_TK_DIR}/c-client"
       PBX_IMAP_TK=1
 
--- asterisk-1.4.11~dfsg.orig/configure.ac
+++ asterisk-1.4.11~dfsg/configure.ac
@@ -484,7 +484,7 @@ if test "${USE_IMAP_TK}" != "no"; then
       imap_ldflags=`cat ${IMAP_TK_DIR}/c-client/LDFLAGS`
    fi
    CPPFLAGS="${CPPFLAGS} -I${IMAP_TK_DIR}/c-client"
-   LIBS="${LIBS} ${IMAP_TK_DIR}/c-client/c-client.a "`echo ${imap_ldflags}`
+   LIBS="${LIBS} -lc-client "`echo ${imap_ldflags}`
    AC_LINK_IFELSE(
 	AC_LANG_PROGRAM(
 		[#include "c-client.h"
@@ -601,7 +601,7 @@ if test "${USE_IMAP_TK}" != "no"; then
    LIBS="${saved_libs}"
    if test "${ac_cv_imap_tk}" = "yes"; then
       AC_MSG_RESULT(yes) 
-      IMAP_TK_LIB="${IMAP_TK_DIR}/c-client/c-client.a "`echo ${imap_ldflags}`
+      IMAP_TK_LIB="-lc-client "`echo ${imap_ldflags}`
       IMAP_TK_INCLUDE="-I${IMAP_TK_DIR}/c-client"
       PBX_IMAP_TK=1
       AC_DEFINE([HAVE_IMAP_TK], 1, [Define if your system has the UW IMAP Toolkit c-client library.])
